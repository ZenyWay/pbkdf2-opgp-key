!function(){return function r(e,n,t){function o(u,f){if(!n[u]){if(!e[u]){var s="function"==typeof require&&require;if(!f&&s)return s(u,!0);if(i)return i(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var a=n[u]={exports:{}};e[u][0].call(a.exports,function(r){return o(e[u][1][r]||r)},a,a.exports,r,e,n,t)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<t.length;u++)o(t[u]);return o}}()({1:[function(r,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=new Terminal({cursorBlink:!0,rows:24,scrollback:256,tabStopWidth:2});t.open(document.querySelector("#terminal"));var o=JSON.stringify.bind(JSON);n.default=function(r){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.writeln([r].concat(e.map(o)).join(" "))}}},{}],2:[function(r,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=r(3),o=r("opgp-service"),i=r(1),u=o.default(),f=t.default(u,{pbkdf2:{salt:32,iterations:8192,length:64}});i.default("example:")("generate key...");var s=f("j.doe@example.com","secret passphrase");s.then(i.default("example:key:"));var c=s.then(function(r){return r.toArmor()});c.then(i.default("example:armor:")),c.then(function(r){return f(r,"secret passphrase")}).then(i.default("example:from-armor:"))},{1:1,3:3,undefined:void 0}],3:[function(r,e,n){"use strict";var t=this&&this.__assign||Object.assign||function(r){for(var e,n=1,t=arguments.length;n<t;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o]);return r};Object.defineProperty(n,"__esModule",{value:!0});var o=r(4);var i=function(){function r(r,e,n,t,o){this.getPbkdf2=r,this.opgp=e,this.armor=n,this.key=t,this.pbkdf2=o}return r.newInstance=function(e,n,t,o){return n.getkdf(u(n.pbkdf2))(o).then(function(o){return e.generateKey(t,{passphrase:o.value,size:n.size,unlocked:!n.locked}).then(function(t){return r.fromOpgpProxyKey(n.getkdf,e,t,o.spec)})})},r.fromPbkdf2KeyArmor=function(e,n,o,i){var f=n.getkdf(u(t({},n.pbkdf2,o.pbkdf2)))(i),s=function(r){return e.getKeysFromArmor(r).then(function(r){return Array.isArray(r)?Promise.reject(new Error("unsupported multiple key armor")):r})}(o.armor);return Promise.all([s,f]).then(function(t){return function(t,i){var u=i.value;return t.isLocked?e.unlock(t,u).then(function(t){return new r(n.getkdf,e,o.armor,t,i.spec)}):e.lock(t,u).then(c)}(t[0],t[1])});function c(u){return e.getArmorFromKey(u).then(function(u){return r.fromPbkdf2KeyArmor(e,n,{armor:u,pbkdf2:t({},o.pbkdf2)},i)})}},r.prototype.unlock=function(r){var e=this;if(!o.isString(r))return Promise.reject(new TypeError("invalid argument"));var n=t({},this.pbkdf2,{relaxed:this.pbkdf2.iterations<8192});return this.getPbkdf2(n)(r).then(function(r){return Promise.resolve(e.opgp.unlock(e.key,r.value))}).then(function(r){return e._getInstance(r)})},r.prototype.toArmor=function(){return Promise.resolve({armor:this.armor,pbkdf2:t({},this.pbkdf2)})},r.prototype.clone=function(){var r=this;return Promise.resolve(this.opgp.getKeysFromArmor(this.armor)).then(function(e){return r._getInstance(e)})},r.fromOpgpProxyKey=function(e,n,t,o){return Promise.resolve(n.getArmorFromKey(t)).then(function(i){return new r(e,n,i,t,o)})},r.prototype._getInstance=function(e){return new r(this.getPbkdf2,this.opgp,this.armor,e,this.pbkdf2)},r}();function u(r){var e=t({},r);return"none"===e.encoding&&delete e.encoding,e}var f=["generateKey","getKeysFromArmor","getArmorFromKey","unlock"];n.default=function(e,n){if(!function(r){return!!r&&f.every(function(e){return o.isFunction(r[e])})}(e))throw new TypeError("invalid argument");var u=t({size:2048},n);return u.pbkdf2=t({},u.pbkdf2),u.getkdf=o.isFunction(u.getkdf)?u.getkdf:r("pbkdf2sha512").default,function(r,n){return function r(e){return e.then(function(e){return{key:e.key,pbkdf2:e.pbkdf2,unlock:function(n){return r(e.unlock(n))},toArmor:function(){return e.toArmor()},clone:function(){return r(e.clone())}}})}(Promise.all([r,n]).then(function(r){var n=r[0],t=r[1];return function r(e,n,t,u){return o.isString(t)?r(e,n,{user:t,passphrase:u}):function(r){return!!r&&o.isString(r.user)&&o.isString(r.passphrase)}(t)?i.newInstance(e,n,t.user,t.passphrase):function(r){return!!r&&o.isString(r.armor)&&function(r){return!!r&&o.isString(r.salt)}(r.pbkdf2)}(t)&&o.isString(u)?i.fromPbkdf2KeyArmor(e,n,t,u):Promise.reject(new TypeError("invalid arguments"))}(e,u,n,t)}))}}},{4:4,undefined:void 0}],4:[function(r,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isString=function(r){return"string"==typeof(r&&r.valueOf())},n.isFunction=function(r){return"function"==typeof r}},{}]},{},[2]);